(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3476ede6"],{"0cb2":function(e,t,n){var r=n("e330"),a=n("7b0b"),i=Math.floor,o=r("".charAt),c=r("".replace),u=r("".slice),s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,d,f){var p=n+e.length,b=r.length,v=l;return void 0!==d&&(d=a(d),v=s),c(f,v,(function(a,c){var s;switch(o(c,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,n);case"'":return u(t,p);case"<":s=d[u(c,1,-1)];break;default:var l=+c;if(0===l)return a;if(l>b){var f=i(l/10);return 0===f?a:f<=b?void 0===r[f-1]?o(c,1):r[f-1]+o(c,1):a}s=r[l-1]}return void 0===s?"":s}))}},"107c":function(e,t,n){var r=n("d039"),a=n("da84"),i=a.RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"14c3":function(e,t,n){var r=n("da84"),a=n("c65b"),i=n("825a"),o=n("1626"),c=n("c6b6"),u=n("9263"),s=r.TypeError;e.exports=function(e,t){var n=e.exec;if(o(n)){var r=a(n,e,t);return null!==r&&i(r),r}if("RegExp"===c(e))return a(u,e,t);throw s("RegExp#exec called on incompatible receiver")}},"159b":function(e,t,n){var r=n("da84"),a=n("fdbc"),i=n("785a"),o=n("17c2"),c=n("9112"),u=function(e){if(e&&e.forEach!==o)try{c(e,"forEach",o)}catch(t){e.forEach=o}};for(var s in a)a[s]&&u(r[s]&&r[s].prototype);u(i)},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,a=n("a640"),i=a("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"3f6a":function(e,t){e.exports="data:image/png;base64,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"},5319:function(e,t,n){"use strict";var r=n("2ba4"),a=n("c65b"),i=n("e330"),o=n("d784"),c=n("d039"),u=n("825a"),s=n("1626"),l=n("5926"),d=n("50c4"),f=n("577e"),p=n("1d80"),b=n("8aa5"),v=n("dc4a"),h=n("0cb2"),g=n("14c3"),m=n("b622"),x=m("replace"),A=Math.max,j=Math.min,k=i([].concat),w=i([].push),O=i("".indexOf),S=i("".slice),B=function(e){return void 0===e?e:String(e)},E=function(){return"$0"==="a".replace(/./,"$0")}(),I=function(){return!!/./[x]&&""===/./[x]("a","$0")}(),R=!c((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));o("replace",(function(e,t,n){var i=I?"$":"$0";return[function(e,n){var r=p(this),i=void 0==e?void 0:v(e,x);return i?a(i,e,r,n):a(t,f(r),e,n)},function(e,a){var o=u(this),c=f(e);if("string"==typeof a&&-1===O(a,i)&&-1===O(a,"$<")){var p=n(t,o,c,a);if(p.done)return p.value}var v=s(a);v||(a=f(a));var m=o.global;if(m){var x=o.unicode;o.lastIndex=0}var E=[];while(1){var I=g(o,c);if(null===I)break;if(w(E,I),!m)break;var R=f(I[0]);""===R&&(o.lastIndex=b(c,d(o.lastIndex),x))}for(var L="",P=0,q=0;q<E.length;q++){I=E[q];for(var C=f(I[0]),V=A(j(l(I.index),c.length),0),M=[],H=1;H<I.length;H++)w(M,B(I[H]));var G=I.groups;if(v){var D=k([C],M,V,c);void 0!==G&&w(D,G);var U=f(r(a,void 0,D))}else U=h(C,c,V,M,G,a);V>=P&&(L+=S(c,P,V)+U,P=V+C.length)}return L+S(c,P)}]}),!R||!E||I)},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},9263:function(e,t,n){"use strict";var r=n("c65b"),a=n("e330"),i=n("577e"),o=n("ad6d"),c=n("9f7f"),u=n("5692"),s=n("7c73"),l=n("69f3").get,d=n("fce3"),f=n("107c"),p=u("native-string-replace",String.prototype.replace),b=RegExp.prototype.exec,v=b,h=a("".charAt),g=a("".indexOf),m=a("".replace),x=a("".slice),A=function(){var e=/a/,t=/b*/g;return r(b,e,"a"),r(b,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),j=c.UNSUPPORTED_Y||c.BROKEN_CARET,k=void 0!==/()??/.exec("")[1],w=A||k||j||d||f;w&&(v=function(e){var t,n,a,c,u,d,f,w=this,O=l(w),S=i(e),B=O.raw;if(B)return B.lastIndex=w.lastIndex,t=r(v,B,S),w.lastIndex=B.lastIndex,t;var E=O.groups,I=j&&w.sticky,R=r(o,w),L=w.source,P=0,q=S;if(I&&(R=m(R,"y",""),-1===g(R,"g")&&(R+="g"),q=x(S,w.lastIndex),w.lastIndex>0&&(!w.multiline||w.multiline&&"\n"!==h(S,w.lastIndex-1))&&(L="(?: "+L+")",q=" "+q,P++),n=new RegExp("^(?:"+L+")",R)),k&&(n=new RegExp("^"+L+"$(?!\\s)",R)),A&&(a=w.lastIndex),c=r(b,I?n:w,q),I?c?(c.input=x(c.input,P),c[0]=x(c[0],P),c.index=w.lastIndex,w.lastIndex+=c[0].length):w.lastIndex=0:A&&c&&(w.lastIndex=w.global?c.index+c[0].length:a),k&&c&&c.length>1&&r(p,c[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(c[u]=void 0)})),c&&E)for(c.groups=d=s(null),u=0;u<E.length;u++)f=E[u],d[f[0]]=c[f[1]];return c}),e.exports=v},"9f7f":function(e,t,n){var r=n("d039"),a=n("da84"),i=a.RegExp;t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},ac1f:function(e,t,n){"use strict";var r=n("23e7"),a=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b7cf:function(e,t,n){"use strict";n("eec1")},bb51:function(e,t,n){"use strict";n.r(t);var r=n("7a23");function a(e,t,n,a,i,o){var c=Object(r["D"])("Banner"),u=Object(r["D"])("Map");return Object(r["u"])(),Object(r["g"])(r["a"],null,[Object(r["j"])(c),Object(r["j"])(u)],64)}var i=n("d178"),o=function(e){return Object(r["x"])("data-v-02501df8"),e=e(),Object(r["v"])(),e},c=o((function(){return Object(r["h"])("div",{id:"mapid",class:"map"},null,-1)})),u={class:"card-title"},s={class:"card-status"},l={class:"card-content"},d=Object(r["i"])(" 可租借車數"),f=o((function(){return Object(r["h"])("br",null,null,-1)})),p=Object(r["i"])(" 可歸還車數"),b=o((function(){return Object(r["h"])("br",null,null,-1)})),v={class:"card-addr"},h={class:"card-time"},g=o((function(){return Object(r["h"])("i",{class:"bi bi-x"},null,-1)})),m=[g];function x(e,t,n,a,i,o){return Object(r["u"])(),Object(r["g"])(r["a"],null,[c,Object(r["h"])("div",{class:Object(r["p"])(["card",{show:i.cardShow}])},[Object(r["h"])("div",u,Object(r["G"])(i.tempBike.title),1),Object(r["h"])("div",s,Object(r["G"])(i.tempBike.status),1),Object(r["h"])("div",l,[Object(r["h"])("p",null,[d,f,Object(r["h"])("span",null,Object(r["G"])(i.tempBike.rentBikes),1)]),Object(r["h"])("p",null,[p,b,Object(r["h"])("span",null,Object(r["G"])(i.tempBike.returnBikes),1)])]),Object(r["h"])("div",v,"地址 : "+Object(r["G"])(i.tempBike.addr),1),Object(r["h"])("div",h,"更新時間 : "+Object(r["G"])(i.tempBike.time),1),Object(r["h"])("div",{class:"crad-close",onClick:t[0]||(t[0]=function(){return o.closeCard&&o.closeCard.apply(o,arguments)})},m)],2)],64)}n("d3b7"),n("159b"),n("ac1f"),n("5319"),n("d81d");var A=n("e11e"),j=n.n(A),k=(n("7319"),n("39a0")),w=n.n(k),O=n("3f6a"),S=n.n(O),B={},E=new j.a.MarkerClusterGroup,I=new j.a.Icon({iconUrl:w.a,iconSize:[46,46],iconAnchor:[25,0]}),R=new j.a.Icon({iconUrl:S.a,iconSize:[46,46],iconAnchor:[25,46]}),L={name:"Map",data:function(){return{userLocation:{longitude:0,latitude:0},bikeSite:[],bikeParking:[],cardShow:!1,tempBike:{title:"",status:"",rentBikes:0,returnBikes:0,addr:"",time:""}}},methods:{getUserLocation:function(){var e=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){e.userLocation.longitude=t.coords.longitude,e.userLocation.latitude=t.coords.latitude,B.setView([e.userLocation.latitude,e.userLocation.longitude]),B.panTo([e.userLocation.latitude,e.userLocation.longitude]),j.a.marker([e.userLocation.latitude,e.userLocation.longitude],{icon:I}).addTo(B).bindPopup("您的位置").openPopup()}),(function(e){var t=e.message;console.error(t)}))},renderMarker:function(){var e=this;this.removeMarker(),this.bikeSite.forEach((function(t){E.addLayer(j.a.marker([t.StationPosition.PositionLat,t.StationPosition.PositionLon],{icon:R}).on("click",(function(){e.getMarkerDetail(t)})))})),B.addLayer(E),B.setView([this.bikeSite[0].StationPosition.PositionLat,this.bikeSite[0].StationPosition.PositionLon])},removeMarker:function(){E.eachLayer((function(e){e instanceof j.a.Marker&&E.removeLayer(e)}))},getMarkerDetail:function(e){var t=this;console.log(e),this.bikeParking.forEach((function(n){e.StationUID===n.StationUID&&(t.tempBike.title=e.StationName.Zh_tw,0===n.ServiceStatus?t.tempBike.status="停止營運":1===n.ServiceStatus?t.tempBike.status="正常營運":t.tempBike.status="暫停營運",t.tempBike.rentBikes=n.AvailableRentBikes,t.tempBike.returnBikes=n.AvailableReturnBikes,t.tempBike.addr=e.StationAddress.Zh_tw,t.tempBike.time=e.UpdateTime.replace("T"," ").replace("+08:00",""))})),this.cardShow=!0},closeCard:function(){this.cardShow=!this.cardShow}},mounted:function(){var e=this;this.getUserLocation(),this.removeMarker(),B=j.a.map("mapid").setView([0,0],14),j.a.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery &copy; <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"pk.eyJ1Ijoic2Nwczg4MDUxMCIsImEiOiJja3Y0dXI5bzc3YzU2MzBwaDhpYTlqaXpnIn0.Ge79DPU7Xnz2-BXEnwXwbQ"}).addTo(B),this.emitter.on("bikeSite",(function(t){e.bikeSite=t})),this.emitter.on("bikeParking",(function(t){e.bikeParking=t,e.renderMarker()}))}},P=(n("b7cf"),n("6b0d")),q=n.n(P);const C=q()(L,[["render",x],["__scopeId","data-v-02501df8"]]);var V=C,M={name:"Home",components:{Banner:i["a"],Map:V}};const H=q()(M,[["render",a]]);t["default"]=H},d784:function(e,t,n){"use strict";n("ac1f");var r=n("e330"),a=n("6eeb"),i=n("9263"),o=n("d039"),c=n("b622"),u=n("9112"),s=c("species"),l=RegExp.prototype;e.exports=function(e,t,n,d){var f=c(e),p=!o((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),b=p&&!o((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[s]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!p||!b||n){var v=r(/./[f]),h=t(f,""[e],(function(e,t,n,a,o){var c=r(e),u=t.exec;return u===i||u===l.exec?p&&!o?{done:!0,value:v(t,n,a)}:{done:!0,value:c(n,t,a)}:{done:!1}}));a(String.prototype,e,h[0]),a(l,f,h[1])}d&&u(l[f],"sham",!0)}},eec1:function(e,t,n){},fce3:function(e,t,n){var r=n("d039"),a=n("da84"),i=a.RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=chunk-3476ede6.05d1444f.js.map